// Auto-generated â€” do not edit. Source: recovery/recovery-script.ts
export const RECOVERY_SCRIPT = "\"use strict\";(()=>{var d=[\"alt\",\"title\",\"placeholder\",\"aria-label\"],p=new Set([\"P\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"LI\",\"TD\",\"TH\",\"DD\",\"DT\",\"FIGCAPTION\",\"CAPTION\",\"LABEL\",\"LEGEND\",\"SUMMARY\"]);function c(o){for(;o;){if(o.hasAttribute(\"data-pantolingo-skip\")||o.hasAttribute(\"data-pantolingo-pending\"))return!0;o=o.parentElement}return!1}function m(o,i,l){let s=o.html;if(Object.keys(s).length===0)return;let a=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let t=n;return c(t)?NodeFilter.FILTER_REJECT:p.has(t.tagName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),e;for(;e=a.nextNode();){let n=e.textContent?.trim();n&&s[n]&&(e.innerHTML=s[n],l.add(e))}}function E(o,i,l){let s=o.text;if(Object.keys(s).length===0)return;let a=document.createTreeWalker(i,NodeFilter.SHOW_TEXT,{acceptNode:n=>{let t=n.parentElement;for(;t;){if(l.has(t)||c(t))return NodeFilter.FILTER_REJECT;t=t.parentElement}return n.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),e;for(;e=a.nextNode();){let n=e.data.trim();if(s[n]){let t=e.data.match(/^(\\s*)/)?.[1]||\"\",r=e.data.match(/(\\s*)$/)?.[1]||\"\";e.data=t+s[n]+r}}}function f(o,i){let l=o.attrs;if(Object.keys(l).length===0)return;let s=d.map(e=>`[${e}]`).join(\",\"),a=i.querySelectorAll(s);for(let e=0;e<a.length;e++){let n=a[e];if(!c(n))for(let t of d){let r=n.getAttribute(t);r&&l[r]&&n.setAttribute(t,l[r])}}}function T(o){let i=o.paths;if(!i||Object.keys(i).length===0)return;let l=document.querySelectorAll(\"a[href], form[action]\");for(let s=0;s<l.length;s++){let a=l[s];if(c(a))continue;let e=a.tagName===\"FORM\"?\"action\":\"href\",n=a.getAttribute(e);if(n)try{let t=new URL(n,location.origin);if(t.origin!==location.origin)continue;let r=i[t.pathname];r&&(t.pathname=r,a.setAttribute(e,t.href))}catch{let t=n.split(\"?\")[0].split(\"#\")[0],r=i[t];r&&a.setAttribute(e,n.replace(t,r))}}}function N(){let o=window.__PANTOLINGO_RECOVERY__;if(!o)return;let i=new Set;m(o,document.body,i),E(o,document.body,i),f(o,document.body),T(o),document.body.classList.add(\"pantolingo-ready\")}function y(o){let i=window.__PANTOLINGO_RECOVERY__;if(!i)return;let l=new Set,s=!1;for(let a of o)if(a.type===\"childList\")for(let e=0;e<a.addedNodes.length;e++){let n=a.addedNodes[e];if(n.nodeType===Node.ELEMENT_NODE){s=!0;let t=n;m(i,t,l),E(i,t,l),f(i,t)}else if(n.nodeType===Node.TEXT_NODE){let t=n,r=t.data.trim();if(r&&i.text[r]){let g=t.data.match(/^(\\s*)/)?.[1]||\"\",h=t.data.match(/(\\s*)$/)?.[1]||\"\";t.data=g+i.text[r]+h}}}else if(a.type===\"characterData\"){let e=a.target,n=e.data.trim();if(n&&i.text[n]){let t=e.data.match(/^(\\s*)/)?.[1]||\"\",r=e.data.match(/(\\s*)$/)?.[1]||\"\";e.data=t+i.text[n]+r}}s&&T(i)}function u(){N();let o=new MutationObserver(y);o.observe(document.body,{childList:!0,subtree:!0,characterData:!0}),setTimeout(()=>{o.disconnect()},2e3)}document.readyState===\"loading\"?document.addEventListener(\"DOMContentLoaded\",u):u();})();"
